# 一、项目介绍
MindGraph 是一个非结构化的递归文档应用，其核心理念在于使用有向无环图（DAG）来表示和组织信息。

## 1.1 理念
### 1.1.1 概念介绍
MindGraph 用于制作非结构化的递归文档，这种文档的任何节点既可以是标题，也可以是内容。

### 1.1.2 和知识图谱的关系
知识图谱是一种用图结构来表示知识的数据模型，它由实体和关系组成。

在 MindGraph 中，我们专注于构建和应用有向无环图（DAG）形式的知识图谱。DAG 是一种不允许出现循环路径的图结构，这种结构特别适合于表示具有层次关系和依赖关系的知识。

## 1.2 项目目标
* 提供一个跨平台的桌面应用，用于构建和应用基于有向无环图的知识图谱。
* 提供一个网页应用，用于远程构建和应用基于有向无环图的知识图谱。

# 二、项目结构
本项目划分为两大部分：客户端和服务端。

## 2.1 客户端
### 2.1.1 核心功能
* **针对运行环境的适配**：为用户提供针对客户端运行环境而设计的界面，方便用户与以及服务端接口进行交互。例如浏览器、系统应用、屏幕阅读器等等。
* **客户端 API 的实现**：连接服务端 API，按照规范，根据当前的上下文正确发起和处理请求。
### 2.1.2 运行环境
#### 网页客户端
网页客户端在浏览器上运行，因为 Tauri 的客户端使用系统的原生 Webview，因此网页端可以同时在浏览器环境和 Tauri 环境下运行。

在前端框架上，本项目选择了 Solid.js 的技术栈，Solid.js 能够提供类似于 React JSX 和 Vue Reactive 的开发体验，且在性能和状态管理上相较于 React 和 Vue 都有较大的提升。

在样式管理上，本项目选择了 UnoCSS + PostCSS 的技术栈来降低样式维护成本和为旧浏览器提供兼容性。

### 2.1.3 项目架构
#### 画布页面
##### 节点画布
节点的编辑采用了 [Mix 编辑器](./Mix%20Editor.md) 作为富文本编辑器。
##### 文档画布

## 2.2 服务端
### 2.2.1 核心功能
* **服务端 API 的实现**：按照规范，根据当前的上下文正确发起和处理来自客户端请求。
* **（可选）客户端分发**：如果客户端被打包于服务端，则服务端还需提供客户端的运行环境和分发。例如托管网页应用、提供客户端下载服务等。

### 2.2.2 运行环境
#### Tauri
Tauri 是使用 Rust 和 Web 技术构建跨平台的桌面应用。Tauri 服务端可以在多种主流平台上运行，通过 ipc 接口为客户端提供 API。

#### Web 后端
（待定）

### 2.2.3 服务端架构
#### MindGraph 项目储存结构
MindGraph 项目是 MindGraph 项目的储存结构，基于 [SQLite 数据库文件格式](https://www.sqlite.org/fileformat2.html) 设计，其包含了项目的所有信息。

##### 数据库结构迁移
MindGraph 项目的结构会随着项目的进展而不断更新，因此，用户可能会在新版本的 MindGraph 服务端中使用旧版本的项目数据。为了保证对用户数据的长期兼容，服务端需要实现结构迁移系统，以在打开 MindGraph 项目时，自动更新数据库结构。

# 三、其他
* 本文档会随着项目的进展不断更新和完善。
* 欢迎提出宝贵意见和建议。
